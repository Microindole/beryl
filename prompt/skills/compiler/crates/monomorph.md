---
name: monomorph
description: 泛型单态化模块 (lency_monomorph) 技术手册。
---

# Lency Monomorph - 单态化

## 1. 核心职责
- **泛型实例化**: 当编译器发现 `Box<int>` 时，克隆并在特定类型上下文下重新处理。
- **符号混淆 (Mangling)**: 生成全局唯一且可预测的机器符号（如 `_L_Box_int`）。

## 2. 工作流
1. **收集期**: 在 Sema 期间标记被使用的泛型组合。
2. **实例化**: 替换泛型参数为具体类型，生成对应的单态化符号表。
3. **输出**: 提供给 Codegen 用以生成实际函数体。

## 3. 注意事项
- **递归深度**: 防止过度嵌套的泛型导致循环展开。
- **单例保证**: 相同的泛型组合只生成一个对应的机器符号。

---
[单态化逻辑](../../../../crates/lency_monomorph/src/lib.rs)
