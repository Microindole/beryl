; ModuleID = 'main'
source_filename = "main"

@"fmt.ld\0A" = private unnamed_addr constant [5 x i8] c"%ld\0A\00", align 1

declare ptr @malloc(i64)

define void @__beryl_main() {
entry:
  %vec = call ptr @beryl_vec_new(i64 5)
  call void @beryl_vec_push(ptr %vec, i64 1)
  call void @beryl_vec_push(ptr %vec, i64 2)
  call void @beryl_vec_push(ptr %vec, i64 3)
  call void @beryl_vec_push(ptr %vec, i64 4)
  call void @beryl_vec_push(ptr %vec, i64 5)
  %v = alloca ptr, align 8
  store ptr %vec, ptr %v, align 8
  %printf_call = call i32 (ptr, ...) @printf(ptr @"fmt.ld\0A", i64 42)
  ret void
}

declare ptr @beryl_vec_new(i64)

declare void @beryl_vec_push(ptr, i64)

declare i32 @printf(ptr, ...)

define i32 @main() {
entry:
  call void @__beryl_main()
  ret i32 0
}
