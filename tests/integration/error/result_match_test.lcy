// 测试：Result 基础类型和 match 支持（不使用 impl 方法）

struct Error {
    string message
}

int! divide(int a, int b) {
    if b == 0 {
        return Err(Error { message: "division by zero" })
    }
    return Ok(a / b)
}

int main() {
    var res1 = divide(10, 2)
    var res2 = divide(10, 0)
    
    // 使用 match 获取值
    var val1 = match res1 {
        case Result.Ok(v) => v,
        case Result.Err(_) => 999
    }
    
    print(val1)  // 应该输出 5
    
    var val2 = match res2 {
        case Result.Ok(v) => v,
        case Result.Err(_) => 888
    }
    
    print(val2)  // 应该输出 888
    
    return 0
}
