// Sprint 15: Test Result builtin methods
// is_ok(), is_err(), unwrap_or()

struct Error {
    string message
}

int! divide(int a, int b) {
    if b == 0 {
        return Err(Error { message: "division by zero" })
    }
    return Ok(a / b)
}

int main() {
    // Test is_ok()
    var res1 = divide(10, 2)
    if res1.is_ok() {
        print("Test 1 PASSED: is_ok() returns true for Ok\n")
    } else {
        print("Test 1 FAILED\n")
    }
    
    // Test is_err()
    var res2 = divide(10, 0)
    if res2.is_err() {
        print("Test 2 PASSED: is_err() returns true for Err\n")
    } else {
        print("Test 2 FAILED\n")
    }
    
    // Test unwrap_or()
    var val1 = divide(10, 2).unwrap_or(999)
    if val1 == 5 {
        print("Test 3 PASSED: unwrap_or() returns Ok value\n")
    } else {
        print("Test 3 FAILED\n")
    }
    
    var val2 = divide(10, 0).unwrap_or(999)
    if val2 == 999 {
        print("Test 4 PASSED: unwrap_or() returns default for Err\n")
    } else {
        print("Test 4 FAILED\n")
    }
    
    print("\n=== All Result builtin method tests completed ===\n")
    return 0
}
